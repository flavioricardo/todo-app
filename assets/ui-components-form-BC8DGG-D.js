import{B as e,a,S as s,b as i,I as t,r as o,L as r,A as l,T as n,c as d,d as c,e as g,f as u,g as h}from"./vendor-gestalt-k6pdCueW.js";import{t as p,c as m}from"./app-constants-COvNnihl.js";import{b as y,g as x}from"./vendor-react-BtDQ8f-S.js";import{r as b}from"./vendor-prop-types-Bx5UHif0.js";import{z as j}from"./app-utils-DAXUT7p0.js";var C=y();const f=x(b());function k({searchTerm:o,filterStatus:r,groupBy:l,onSearchChange:n,onFilterChange:d,onGroupByChange:c,language:g,isMobile:u,disabled:h}){const m="lg",y="100%",x="auto";return C.jsxs(e,{width:"100%",display:"flex",direction:u?"column":"row",gap:u?4:2,alignItems:u?"start":"end",wrap:!u,children:[C.jsx(a,{wrap:!0,flex:"grow",width:u?y:x,children:C.jsx(e,{flex:"grow",marginEnd:u?0:2,marginBottom:u?4:0,children:C.jsx(s,{id:"searchField",accessibilityLabel:p[g].searchPlaceholder,onChange:({value:e})=>n(e),placeholder:p[g].searchPlaceholder,value:o,size:m,disabled:h})})}),C.jsx(e,{paddingX:u?0:2,marginBottom:u?4:0,width:u?y:x,children:C.jsxs(i,{id:"filterStatus",labelDisplay:"hidden",label:p[g].taskCategory,placeholder:p[g].taskCategory,onChange:({value:e})=>d(e),size:m,value:r,disabled:h,children:[C.jsx(i.Option,{label:p[g].all,value:"all"}),C.jsx(i.Option,{label:p[g].completed,value:"completed"}),C.jsx(i.Option,{label:p[g].pending,value:"pending"})]})}),C.jsxs(e,{flex:"grow",display:"flex",direction:"row",alignItems:"center",paddingX:u?0:2,width:u?y:x,children:[C.jsx(a,{wrap:!0,flex:u?"grow":"none",width:u?y:x,children:C.jsx(e,{flex:"grow",children:C.jsxs(i,{id:"groupBy",labelDisplay:"hidden",label:p[g].groupBy,placeholder:p[g].groupBy,onChange:({value:e})=>c(e),size:m,value:l,disabled:h,children:[C.jsx(i.Option,{label:p[g].groupByNone,value:"none"}),C.jsx(i.Option,{label:p[g].groupByCategory,value:"category"})]})})}),C.jsx(t,{accessibilityLabel:p[g].groupBy,icon:"info-circle",size:"sm",padding:u?0:4,tooltip:{text:p[g].groupBy,idealDirection:"down"}})]})]})}function w({isOpen:s,onClose:i,onAddCategory:u,onRemoveCategory:h,customCategories:m,language:y}){const[x,b]=o.useState(""),[f,k]=o.useState(!1),[w,v]=o.useState(""),R=e=>{v(e),k(!0),setTimeout((()=>k(!1)),3e3)};return C.jsxs(r,{zIndex:j,children:[s&&C.jsx(l,{accessibilityDismissButtonLabel:p[y].close,accessibilitySheetLabel:p[y].manageCategories,heading:p[y].manageCategories,onDismiss:i,footer:C.jsx(a,{justifyContent:"end",children:C.jsx(c,{text:p[y].close,onClick:i})}),size:"sm",children:C.jsx(e,{padding:4,children:C.jsxs(a,{direction:"column",gap:4,children:[C.jsxs(e,{children:[C.jsx(n,{weight:"bold",children:p[y].addNewCategory}),C.jsxs(a,{gap:2,alignItems:"center",children:[C.jsx(e,{flex:"grow",marginTop:2,children:C.jsx(d,{id:"newCategory",onChange:({value:e})=>b(e),labelDisplay:"hidden",label:p[y].categoryNamePlaceholder,placeholder:p[y].categoryNamePlaceholder,value:x,size:"lg"})}),C.jsx(c,{text:p[y].add,onClick:()=>{x.trim()?m.some((e=>e.toLowerCase()===x.toLowerCase()))?R(p[y].categoryAlreadyExists):(u(x),b(""),R(p[y].categoryAdded)):R(p[y].categoryNameRequired)},color:"blue",disabled:!x.trim(),size:"lg"})]})]}),C.jsxs(e,{children:[C.jsx(n,{weight:"bold",children:p[y].customCategories}),0===m.length?C.jsx(n,{children:p[y].noCustomCategories}):C.jsx(e,{marginTop:2,marginBottom:2,children:m.map((e=>C.jsxs(a,{alignItems:"center",justifyContent:"between",children:[C.jsx(n,{children:e}),C.jsx(t,{accessibilityLabel:p[y].deleteCategory,icon:"trash-can",onClick:()=>h(e),size:"sm"})]},e)))})]})]})})}),f&&C.jsx(g,{text:w,variant:"informational",onDismiss:()=>k(!1)})]})}function v({onAddTask:a,language:s,isMobile:r,disabled:l,customCategories:n,onAddCategory:g,onRemoveCategory:y,user:x,isAddingTask:b,editingTask:j,onCancelEdit:f}){const[k,v]=o.useState(""),[R,T]=o.useState(),[q,S]=o.useState(!1),[B,z]=o.useState([]),[A,I]=o.useState({task:!1,category:!1});o.useEffect((()=>{j?(v(j.text),T(j.category)):(v(""),T())}),[j]),o.useEffect((()=>{const e=[...Object.keys(m),...n.filter((e=>!Object.keys(m).includes(e)))];z(e)}),[n]);const O=({value:e})=>{T(e),A.category&&I({...A,category:!1})},L=({value:e})=>{v(e),A.task&&e.trim()&&I({...A,task:!1})},D=()=>S(!0);return C.jsxs(C.Fragment,{children:[C.jsxs(e,{display:"flex",direction:r?"column":"row",justifyContent:"start",alignItems:r?"stretch":"end",gap:r?6:3,children:[C.jsxs(e,{marginBottom:r?4:0,width:r?"100%":"auto",display:"flex",direction:"row",gap:2,alignItems:"end",children:[C.jsx(e,{marginEnd:!r&&2,flex:"grow",children:C.jsx(i,{id:"categorySelect",labelDisplay:"hidden",label:p[s].taskCategory,placeholder:p[s].taskCategory,onChange:O,size:"lg",disabled:l,value:R,errorMessage:A.category?p[s].categoryRequired:void 0,children:B.map((e=>C.jsx(i.Option,{label:p[s].categories[e]||e,value:e},e)))})}),C.jsx(h,{text:p[s].manageCategories,children:C.jsx(t,{accessibilityLabel:p[s].manageCategories,icon:"add",size:"lg",onClick:D,disabled:l})})]}),C.jsx(e,{flex:"grow",paddingX:r?0:2,marginBottom:r?4:0,width:r?"100%":"auto",children:C.jsx(d,{id:"taskInput",labelDisplay:"hidden",label:p[s].taskName,onChange:L,placeholder:p[s].taskName,value:k,width:"100%",size:"lg",disabled:l,errorMessage:A.task?p[s].taskRequired:void 0})}),C.jsxs(e,{position:"relative",display:"flex",direction:r?"column":"row",alignItems:r?"stretch":"end",children:[C.jsx(c,{text:j?p[s].saveTask:p[s].addTask,onClick:()=>{(()=>{const e={task:!k.trim(),category:!R};return I(e),!e.task&&!e.category})()&&(a(k,R),v(""),I({task:!1,category:!1}))},color:"blue",fullWidth:r,size:"lg",disabled:l||!k||b}),!b&&j&&C.jsx(e,{marginStart:r?0:2,marginTop:r?4:0,children:C.jsx(c,{text:p[s].cancel,color:"red",onClick:f,size:"lg",fullWidth:r,disabled:l||b,marginStart:2})}),b&&C.jsx(e,{position:"absolute",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},children:C.jsx(u,{show:!0,size:"sm",accessibilityLabel:p[s].addTaskPlaceholder})})]})]}),C.jsx(w,{isOpen:q,onClose:()=>S(!1),onAddCategory:g,onRemoveCategory:y,customCategories:n,language:s,user:x})]})}k.propTypes={searchTerm:f.string.isRequired,filterStatus:f.string.isRequired,groupBy:f.string.isRequired,onSearchChange:f.func.isRequired,onFilterChange:f.func.isRequired,onGroupByChange:f.func.isRequired,language:f.string.isRequired,isMobile:f.bool,disabled:f.bool},k.defaultProps={disabled:!1,groupBy:"none"},w.propTypes={isOpen:f.bool.isRequired,onClose:f.func.isRequired,onAddCategory:f.func.isRequired,onRemoveCategory:f.func.isRequired,customCategories:f.array.isRequired,language:f.string.isRequired},v.propTypes={onAddTask:f.func.isRequired,language:f.string.isRequired,isMobile:f.bool,disabled:f.bool,customCategories:f.array,onAddCategory:f.func.isRequired,onRemoveCategory:f.func.isRequired,user:f.object,isAddingTask:f.bool,editingTask:f.shape({text:f.string,category:f.string}),onCancelEdit:f.func},v.defaultProps={disabled:!1,customCategories:[],isAddingTask:!1};export{f as P,v as T,k as a,C as j};
