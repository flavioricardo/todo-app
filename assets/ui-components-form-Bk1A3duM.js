import{B as e,a as s,S as a,b as i,I as o,r as t,L as r,A as l,T as n,c as d,d as g,e as c,f as u,g as p}from"./vendor-gestalt-k6pdCueW.js";import{t as h,c as m}from"./app-constants-CVKmY58-.js";import{b as y,g as x}from"./vendor-react-BtDQ8f-S.js";import{r as b}from"./vendor-prop-types-Bx5UHif0.js";import{z as j}from"./app-utils-DAXUT7p0.js";var C=y();const f=x(b());function w({searchTerm:t,filterStatus:r,groupBy:l,onSearchChange:n,onFilterChange:d,onGroupByChange:g,language:c,isMobile:u,disabled:p}){const m="lg",y="100%",x="auto";return C.jsxs(e,{width:"100%",display:"flex",direction:u?"column":"row",gap:u?4:2,alignItems:u?"start":"end",wrap:!u,children:[C.jsx(s,{wrap:!0,flex:"grow",width:u?y:x,children:C.jsx(e,{flex:"grow",marginEnd:u?0:2,marginBottom:u?4:0,children:C.jsx(a,{id:"searchField",accessibilityLabel:h[c].searchPlaceholder,onChange:({value:e})=>n(e),placeholder:h[c].searchPlaceholder,value:t,size:m,disabled:p})})}),C.jsx(e,{paddingX:u?0:2,marginBottom:u?4:0,width:u?y:x,children:C.jsxs(i,{id:"filterStatus",labelDisplay:"hidden",label:h[c].taskCategory,placeholder:h[c].taskCategory,onChange:({value:e})=>d(e),size:m,value:r,disabled:p,children:[C.jsx(i.Option,{label:h[c].all,value:"all"}),C.jsx(i.Option,{label:h[c].completed,value:"completed"}),C.jsx(i.Option,{label:h[c].pending,value:"pending"})]})}),C.jsxs(e,{flex:"grow",display:"flex",direction:"row",alignItems:"center",paddingX:u?0:2,width:u?y:x,children:[C.jsx(s,{wrap:!0,flex:u?"grow":"none",width:u?y:x,children:C.jsx(e,{flex:"grow",children:C.jsxs(i,{id:"groupBy",labelDisplay:"hidden",label:h[c].groupBy,placeholder:h[c].groupBy,onChange:({value:e})=>g(e),size:m,value:l,disabled:p,children:[C.jsx(i.Option,{label:h[c].groupByNone,value:"none"}),C.jsx(i.Option,{label:h[c].groupByCategory,value:"category"})]})})}),C.jsx(o,{accessibilityLabel:h[c].groupBy,icon:"info-circle",size:"sm",padding:u?0:4,tooltip:{text:h[c].groupBy,idealDirection:"down"}})]})]})}function v({isOpen:a,onClose:i,onAddCategory:u,onRemoveCategory:p,customCategories:m,language:y}){const[x,b]=t.useState(""),[f,w]=t.useState(!1),[v,k]=t.useState(""),R=e=>{k(e),w(!0),setTimeout((()=>w(!1)),3e3)};return C.jsxs(r,{zIndex:j,children:[a&&C.jsx(l,{accessibilityDismissButtonLabel:h[y].close,accessibilitySheetLabel:h[y].manageCategories,heading:h[y].manageCategories,onDismiss:i,footer:C.jsx(s,{justifyContent:"end",children:C.jsx(g,{text:h[y].close,onClick:i})}),size:"sm",children:C.jsx(e,{padding:4,children:C.jsxs(s,{direction:"column",gap:4,children:[C.jsxs(e,{children:[C.jsx(n,{weight:"bold",children:h[y].addNewCategory}),C.jsxs(s,{gap:2,alignItems:"center",children:[C.jsx(e,{flex:"grow",marginTop:2,children:C.jsx(d,{id:"newCategory",onChange:({value:e})=>b(e),labelDisplay:"hidden",label:h[y].categoryNamePlaceholder,placeholder:h[y].categoryNamePlaceholder,value:x,size:"lg"})}),C.jsx(g,{text:h[y].add,onClick:()=>{x.trim()?m.some((e=>e.toLowerCase()===x.toLowerCase()))?R(h[y].categoryAlreadyExists):(u(x),b(""),R(h[y].categoryAdded)):R(h[y].categoryNameRequired)},color:"blue",disabled:!x.trim(),size:"lg"})]})]}),C.jsxs(e,{children:[C.jsx(n,{weight:"bold",children:h[y].customCategories}),0===m.length?C.jsx(n,{children:h[y].noCustomCategories}):C.jsx(e,{marginTop:2,marginBottom:2,children:m.map((e=>C.jsxs(s,{alignItems:"center",justifyContent:"between",children:[C.jsx(n,{children:e}),C.jsx(o,{accessibilityLabel:h[y].deleteCategory,icon:"trash-can",onClick:()=>p(e),size:"sm"})]},e)))})]})]})})}),f&&C.jsx(c,{text:v,variant:"informational",onDismiss:()=>w(!1)})]})}function k({onAddTask:s,language:a,isMobile:r,disabled:l,customCategories:n,onAddCategory:c,onRemoveCategory:y,user:x,isAddingTask:b}){const[j,f]=t.useState(""),[w,k]=t.useState(),[R,q]=t.useState(!1),[B,S]=t.useState([]),[T,z]=t.useState({task:!1,category:!1});t.useEffect((()=>{const e=[...Object.keys(m),...n.filter((e=>!Object.keys(m).includes(e)))];S(e)}),[n]);const A=({value:e})=>{k(e),T.category&&z({...T,category:!1})},O=({value:e})=>{f(e),T.task&&e.trim()&&z({...T,task:!1})},I=()=>q(!0);return C.jsxs(C.Fragment,{children:[C.jsxs(e,{display:"flex",direction:r?"column":"row",justifyContent:"start",alignItems:r?"stretch":"end",gap:r?6:3,children:[C.jsxs(e,{marginBottom:r?4:0,width:r?"100%":"auto",display:"flex",direction:"row",gap:2,alignItems:"end",children:[C.jsx(e,{marginEnd:!r&&2,flex:"grow",children:C.jsx(i,{id:"categorySelect",labelDisplay:"hidden",label:h[a].taskCategory,placeholder:h[a].taskCategory,onChange:A,size:"lg",disabled:l,value:w,errorMessage:T.category?h[a].categoryRequired:void 0,children:B.map((e=>C.jsx(i.Option,{label:h[a].categories[e]||e,value:e},e)))})}),C.jsx(p,{text:h[a].manageCategories,children:C.jsx(o,{accessibilityLabel:h[a].manageCategories,icon:"add",size:"lg",onClick:I,disabled:l})})]}),C.jsx(e,{flex:"grow",paddingX:r?0:2,marginBottom:r?4:0,width:r?"100%":"auto",children:C.jsx(d,{id:"taskInput",labelDisplay:"hidden",label:h[a].taskName,onChange:O,placeholder:h[a].taskName,value:j,width:"100%",size:"lg",disabled:l,errorMessage:T.task?h[a].taskRequired:void 0})}),C.jsxs(e,{position:"relative",children:[C.jsx(g,{text:h[a].addTask,onClick:()=>{(()=>{const e={task:!j.trim(),category:!w};return z(e),!e.task&&!e.category})()&&(s(j,w),f(""),z({task:!1,category:!1}))},color:"blue",fullWidth:r,size:"lg",disabled:l||!j||b}),b&&C.jsx(e,{position:"absolute",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},children:C.jsx(u,{show:!0,size:"sm",accessibilityLabel:h[a].addTaskPlaceholder})})]})]}),C.jsx(v,{isOpen:R,onClose:()=>q(!1),onAddCategory:c,onRemoveCategory:y,customCategories:n,language:a,user:x})]})}w.propTypes={searchTerm:f.string.isRequired,filterStatus:f.string.isRequired,groupBy:f.string.isRequired,onSearchChange:f.func.isRequired,onFilterChange:f.func.isRequired,onGroupByChange:f.func.isRequired,language:f.string.isRequired,isMobile:f.bool,disabled:f.bool},w.defaultProps={disabled:!1,groupBy:"none"},v.propTypes={isOpen:f.bool.isRequired,onClose:f.func.isRequired,onAddCategory:f.func.isRequired,onRemoveCategory:f.func.isRequired,customCategories:f.array.isRequired,language:f.string.isRequired},k.propTypes={onAddTask:f.func.isRequired,language:f.string.isRequired,isMobile:f.bool,disabled:f.bool,customCategories:f.array,onAddCategory:f.func.isRequired,onRemoveCategory:f.func.isRequired,user:f.object,isAddingTask:f.bool},k.defaultProps={disabled:!1,customCategories:[],isAddingTask:!1};export{f as P,k as T,w as a,C as j};
