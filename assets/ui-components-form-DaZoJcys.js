import{B as e,a,S as s,b as t,I as i,r as o,c as r,d as l,T as n,e as d,L as c,A as g,f as u,g as p}from"./vendor-gestalt-CSC6Vhli.js";import{t as h,c as m}from"./app-constants-wElj3pIu.js";import{b as y,g as b}from"./vendor-react-BtDQ8f-S.js";import{r as x}from"./vendor-prop-types-Bx5UHif0.js";import{z as f}from"./app-utils-jL-kXg-R.js";var j=y();const C={},v=function(e,a,s){let t=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));t=Promise.allSettled(a.map((e=>{if((e=function(e){return"/todo-app/"+e}(e))in C)return;C[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const i=document.createElement("link");return i.rel=a?"stylesheet":"modulepreload",a||(i.as="script"),i.crossOrigin="",i.href=e,s&&i.setAttribute("nonce",s),document.head.appendChild(i),a?new Promise(((a,s)=>{i.addEventListener("load",a),i.addEventListener("error",(()=>s(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function i(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return t.then((a=>{for(const e of a||[])"rejected"===e.status&&i(e.reason);return e().catch(i)}))};const k=b(x());function w({searchTerm:o,filterStatus:r,groupBy:l,onSearchChange:n,onFilterChange:d,onGroupByChange:c,language:g,isMobile:u,disabled:p}){const m="lg",y="100%",b="auto";return j.jsxs(e,{width:"100%",display:"flex",direction:u?"column":"row",gap:u?4:2,alignItems:u?"start":"end",wrap:!u,children:[j.jsx(a,{wrap:!0,flex:"grow",width:u?y:b,children:j.jsx(e,{flex:"grow",marginEnd:u?0:2,marginBottom:u?4:0,children:j.jsx(s,{id:"searchField",accessibilityLabel:h[g].searchPlaceholder,"aria-label":h[g].searchPlaceholder,onChange:({value:e})=>n(e),placeholder:h[g].searchPlaceholder,value:o,size:m,disabled:p})})}),j.jsx(e,{paddingX:u?0:2,marginBottom:u?4:0,width:u?y:b,children:j.jsxs(t,{id:"filterStatus",labelDisplay:"hidden",label:h[g].taskCategory,placeholder:h[g].taskCategory,onChange:({value:e})=>d(e),size:m,value:r,disabled:p,"aria-label":h[g].taskCategory,children:[j.jsx(t.Option,{label:h[g].all,value:"all"}),j.jsx(t.Option,{label:h[g].completed,value:"completed"}),j.jsx(t.Option,{label:h[g].pending,value:"pending"})]})}),j.jsxs(e,{flex:"grow",display:"flex",direction:"row",alignItems:"center",paddingX:u?0:2,width:u?y:b,children:[j.jsx(a,{wrap:!0,flex:u?"grow":"none",width:u?y:b,children:j.jsx(e,{flex:"grow",children:j.jsxs(t,{id:"groupBy",labelDisplay:"hidden",label:h[g].groupBy,placeholder:h[g].groupBy,onChange:({value:e})=>c(e),size:m,value:l,disabled:p,"aria-label":h[g].groupBy,children:[j.jsx(t.Option,{label:h[g].groupByNone,value:"none"}),j.jsx(t.Option,{label:h[g].groupByCategory,value:"category"})]})})}),j.jsx(i,{accessibilityLabel:h[g].groupBy,icon:"info-circle",size:"sm",padding:u?0:4,tooltip:{text:h[g].groupBy,idealDirection:"down"},"aria-label":h[g].groupBy})]})]})}w.propTypes={searchTerm:k.string.isRequired,filterStatus:k.string.isRequired,groupBy:k.string.isRequired,onSearchChange:k.func.isRequired,onFilterChange:k.func.isRequired,onGroupByChange:k.func.isRequired,language:k.string.isRequired,isMobile:k.bool,disabled:k.bool},w.defaultProps={disabled:!1,groupBy:"none"};const S=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"})),T=o.lazy((()=>v((()=>Promise.resolve().then((()=>z))),void 0)));function R({onAddTask:a,language:s,isMobile:c,disabled:g,customCategories:u,onAddCategory:p,onRemoveCategory:y,user:b,isAddingTask:x,editingTask:f,onCancelEdit:C}){const[v,k]=o.useState(""),[w,S]=o.useState(),[R,q]=o.useState(!1),[B,z]=o.useState([]),[_,O]=o.useState({task:!1,category:!1});o.useEffect((()=>{f?(k(f.text),S(f.category)):(k(""),S())}),[f]),o.useEffect((()=>{const e=[...Object.keys(m),...u.filter((e=>!Object.keys(m).includes(e)))];z(e)}),[u]);const P=({value:e})=>{S(e),_.category&&O({..._,category:!1})},E=({value:e})=>{k(e),_.task&&e.trim()&&O({..._,task:!1})},A=()=>q(!0);return j.jsxs(j.Fragment,{children:[j.jsxs(e,{display:"flex",direction:c?"column":"row",justifyContent:"start",alignItems:c?"stretch":"end",gap:c?6:3,children:[j.jsxs(e,{marginBottom:c?4:0,width:c?"100%":"auto",display:"flex",direction:"row",gap:2,alignItems:"end",children:[j.jsx(e,{marginEnd:!c&&2,flex:"grow",children:j.jsx(t,{id:"categorySelect",labelDisplay:"hidden",label:h[s].taskCategory,placeholder:h[s].taskCategory,onChange:P,size:"lg",disabled:g,value:w,errorMessage:_.category?h[s].categoryRequired:void 0,"aria-label":h[s].taskCategory,children:B.map((e=>j.jsx(t.Option,{label:h[s].categories[e]||e,value:e},e)))})}),j.jsx(n,{text:h[s].manageCategories,children:j.jsx(i,{accessibilityLabel:h[s].manageCategories,icon:"add",size:"lg",onClick:A,disabled:g,"aria-label":h[s].manageCategories})})]}),j.jsx(e,{flex:"grow",paddingX:c?0:2,marginBottom:c?4:0,width:c?"100%":"auto",children:j.jsx(d,{id:"taskInput",labelDisplay:"hidden",label:h[s].taskName,onChange:E,placeholder:h[s].taskName,value:v,width:"100%",size:"lg",disabled:g,errorMessage:_.task?h[s].taskRequired:void 0,"aria-label":h[s].taskName})}),j.jsxs(e,{position:"relative",display:"flex",direction:c?"column":"row",alignItems:c?"stretch":"end",children:[j.jsx(r,{text:f?h[s].saveTask:h[s].addTask,onClick:()=>{(()=>{const e={task:!v.trim(),category:!w};return O(e),!e.task&&!e.category})()&&(a(v,w),k(""),O({task:!1,category:!1}))},color:"blue",fullWidth:c,size:"lg",disabled:g||!v||x,"aria-label":f?h[s].saveTask:h[s].addTask}),!x&&f&&j.jsx(e,{marginStart:c?0:2,marginTop:c?4:0,children:j.jsx(r,{text:h[s].cancel,color:"red",onClick:C,size:"lg",fullWidth:c,disabled:g||x,marginStart:2,"aria-label":h[s].cancel})}),x&&j.jsx(e,{position:"absolute",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},children:j.jsx(l,{show:!0,size:"sm",accessibilityLabel:h[s].addTaskPlaceholder})})]})]}),j.jsx(o.Suspense,{fallback:j.jsx(l,{show:!0,accessibilityLabel:"Loading..."}),children:j.jsx(T,{isOpen:R,onClose:()=>q(!1),onAddCategory:p,onRemoveCategory:y,customCategories:u,language:s,user:b})})]})}R.propTypes={onAddTask:k.func.isRequired,language:k.string.isRequired,isMobile:k.bool,disabled:k.bool,customCategories:k.array,onAddCategory:k.func.isRequired,onRemoveCategory:k.func.isRequired,user:k.object,isAddingTask:k.bool,editingTask:k.shape({text:k.string,category:k.string}),onCancelEdit:k.func},R.defaultProps={disabled:!1,customCategories:[],isAddingTask:!1};const q=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));function B({isOpen:s,onClose:t,onAddCategory:l,onRemoveCategory:n,customCategories:m,language:y}){const[b,x]=o.useState(""),[C,v]=o.useState(!1),[k,w]=o.useState(""),S=e=>{w(e),v(!0),setTimeout((()=>v(!1)),3e3)};return j.jsxs(c,{zIndex:f,children:[s&&j.jsx(g,{accessibilityDismissButtonLabel:h[y].close,accessibilitySheetLabel:h[y].manageCategories,heading:h[y].manageCategories,onDismiss:t,footer:j.jsx(a,{justifyContent:"end",children:j.jsx(r,{text:h[y].close,onClick:t})}),size:"sm",children:j.jsx(e,{padding:4,children:j.jsxs(a,{direction:"column",gap:4,children:[j.jsxs(e,{children:[j.jsx(u,{weight:"bold",children:h[y].addNewCategory}),j.jsxs(a,{gap:2,alignItems:"center",children:[j.jsx(e,{flex:"grow",marginTop:2,children:j.jsx(d,{id:"newCategory",onChange:({value:e})=>x(e),labelDisplay:"hidden",label:h[y].categoryNamePlaceholder,placeholder:h[y].categoryNamePlaceholder,value:b,size:"lg"})}),j.jsx(r,{text:h[y].add,onClick:()=>{b.trim()?m.some((e=>e.toLowerCase()===b.toLowerCase()))?S(h[y].categoryAlreadyExists):(l(b),x(""),S(h[y].categoryAdded)):S(h[y].categoryNameRequired)},color:"blue",disabled:!b.trim(),size:"lg"})]})]}),j.jsxs(e,{children:[j.jsx(u,{weight:"bold",children:h[y].customCategories}),0===m.length?j.jsx(u,{children:h[y].noCustomCategories}):j.jsx(e,{marginTop:2,marginBottom:2,children:m.map((e=>j.jsxs(a,{alignItems:"center",justifyContent:"between",children:[j.jsx(u,{children:e}),j.jsx(i,{accessibilityLabel:h[y].deleteCategory,icon:"trash-can",onClick:()=>n(e),size:"sm"})]},e)))})]})]})})}),C&&j.jsx(p,{text:k,variant:"informational",onDismiss:()=>v(!1)})]})}B.propTypes={isOpen:k.bool.isRequired,onClose:k.func.isRequired,onAddCategory:k.func.isRequired,onRemoveCategory:k.func.isRequired,customCategories:k.array.isRequired,language:k.string.isRequired};const z=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));export{k as P,S as T,v as _,q as a,j};
