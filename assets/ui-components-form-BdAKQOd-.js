import{B as e,a,S as l,b as i,I as n,r as o,c as t,d as r,T as s,e as d,L as c,A as g,f as u,g as h}from"./vendor-gestalt-D77DYD9B.js";import{t as b,c as m}from"./app-constants-wElj3pIu.js";import{b as p,g as y}from"./vendor-react-CZcdZKLu.js";import{r as f}from"./vendor-prop-types-CXM-vOnM.js";import{z as C}from"./app-utils-BsapvAQg.js";var v=p();const w={},x=function(e,a,l){let i=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),l=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));i=Promise.allSettled(a.map((e=>{if((e=function(e){return"/todo-app/"+e}(e))in w)return;w[e]=!0;const a=e.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const n=document.createElement("link");return n.rel=a?"stylesheet":"modulepreload",a||(n.as="script"),n.crossOrigin="",n.href=e,l&&n.setAttribute("nonce",l),document.head.appendChild(n),a?new Promise(((a,l)=>{n.addEventListener("load",a),n.addEventListener("error",(()=>l(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return i.then((a=>{for(const e of a||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))},k=y(f());function _({searchTerm:o,filterStatus:t,groupBy:r,onSearchChange:s,onFilterChange:d,onGroupByChange:c,language:g,isMobile:u,disabled:h}){const m="lg",p="100%",y="auto";return v.jsxs(e,{width:"100%",display:"flex",direction:u?"column":"row",gap:u?4:2,alignItems:u?"start":"end",wrap:!u,children:[v.jsx(a,{wrap:!0,flex:"grow",width:u?p:y,children:v.jsx(e,{flex:"grow",marginEnd:u?0:2,marginBottom:u?4:0,children:v.jsx(l,{id:"searchField",accessibilityLabel:b[g].searchPlaceholder,"aria-label":b[g].searchPlaceholder,onChange:({value:e})=>s(e),placeholder:b[g].searchPlaceholder,value:o,size:m,disabled:h})})}),v.jsx(e,{paddingX:u?0:2,marginBottom:u?4:0,width:u?p:y,children:v.jsxs(i,{id:"filterStatus",labelDisplay:"hidden",label:b[g].taskCategory,placeholder:b[g].taskCategory,onChange:({value:e})=>d(e),size:m,value:t,disabled:h,"aria-label":b[g].taskCategory,children:[v.jsx(i.Option,{label:b[g].all,value:"all"}),v.jsx(i.Option,{label:b[g].completed,value:"completed"}),v.jsx(i.Option,{label:b[g].pending,value:"pending"})]})}),v.jsxs(e,{flex:"grow",display:"flex",direction:"row",alignItems:"center",paddingX:u?0:2,width:u?p:y,children:[v.jsx(a,{wrap:!0,flex:u?"grow":"none",width:u?p:y,children:v.jsx(e,{flex:"grow",children:v.jsxs(i,{id:"groupBy",labelDisplay:"hidden",label:b[g].groupBy,placeholder:b[g].groupBy,onChange:({value:e})=>c(e),size:m,value:r,disabled:h,"aria-label":b[g].groupBy,children:[v.jsx(i.Option,{label:b[g].groupByNone,value:"none"}),v.jsx(i.Option,{label:b[g].groupByCategory,value:"category"})]})})}),v.jsx(n,{accessibilityLabel:b[g].groupBy,icon:"info-circle",size:"sm",padding:u?0:4,tooltip:{text:b[g].groupBy,idealDirection:"down"},"aria-label":b[g].groupBy})]})]})}_.propTypes={searchTerm:k.string.isRequired,filterStatus:k.string.isRequired,groupBy:k.string.isRequired,onSearchChange:k.func.isRequired,onFilterChange:k.func.isRequired,onGroupByChange:k.func.isRequired,language:k.string.isRequired,isMobile:k.bool,disabled:k.bool},_.defaultProps={disabled:!1,groupBy:"none"};const j=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"})),S=o.lazy((()=>x((()=>Promise.resolve().then((()=>A))),void 0)));function z({onAddTask:a,language:l,isMobile:c,disabled:g,customCategories:u,onAddCategory:h,onRemoveCategory:p,user:y,isAddingTask:f,editingTask:C,onCancelEdit:w}){const[x,k]=o.useState(""),[_,j]=o.useState(),[z,T]=o.useState(!1),[B,A]=o.useState([]),[I,O]=o.useState({task:!1,category:!1});o.useEffect((()=>{C?(k(C.text),j(C.category)):(k(""),j())}),[C]),o.useEffect((()=>{const e=[...Object.keys(m),...u.filter((e=>!Object.keys(m).includes(e)))];A(e)}),[u]);return v.jsxs(v.Fragment,{children:[v.jsxs(e,{display:"flex",direction:c?"column":"row",justifyContent:"start",alignItems:c?"stretch":"end",gap:c?6:3,children:[v.jsxs(e,{marginBottom:c?4:0,width:c?"100%":"auto",display:"flex",direction:"row",gap:2,alignItems:"end",children:[v.jsx(e,{marginEnd:!c&&2,flex:"grow",children:v.jsx(i,{id:"categorySelect",labelDisplay:"hidden",label:b[l].taskCategory,placeholder:b[l].taskCategory,onChange:({value:e})=>{j(e),I.category&&O({...I,category:!1})},size:"lg",disabled:g,value:_,errorMessage:I.category?b[l].categoryRequired:void 0,"aria-label":b[l].taskCategory,children:B.map((e=>v.jsx(i.Option,{label:b[l].categories[e]||e,value:e},e)))})}),v.jsx(s,{text:b[l].manageCategories,children:v.jsx(n,{accessibilityLabel:b[l].manageCategories,icon:"add",size:"lg",onClick:()=>T(!0),disabled:g,"aria-label":b[l].manageCategories})})]}),v.jsx(e,{flex:"grow",paddingX:c?0:2,marginBottom:c?4:0,width:c?"100%":"auto",children:v.jsx(d,{id:"taskInput",labelDisplay:"hidden",label:b[l].taskName,onChange:({value:e})=>{k(e),I.task&&e.trim()&&O({...I,task:!1})},placeholder:b[l].taskName,value:x,width:"100%",size:"lg",disabled:g,errorMessage:I.task?b[l].taskRequired:void 0,"aria-label":b[l].taskName})}),v.jsxs(e,{position:"relative",display:"flex",direction:c?"column":"row",alignItems:c?"stretch":"end",children:[v.jsx(t,{text:C?b[l].saveTask:b[l].addTask,onClick:()=>{(()=>{const e={task:!x.trim(),category:!_};return O(e),!e.task&&!e.category})()&&(a(x,_),k(""),O({task:!1,category:!1}))},color:"blue",fullWidth:c,size:"lg",disabled:g||!x||f,"aria-label":C?b[l].saveTask:b[l].addTask}),!f&&C&&v.jsx(e,{marginStart:c?0:2,marginTop:c?4:0,children:v.jsx(t,{text:b[l].cancel,color:"red",onClick:w,size:"lg",fullWidth:c,disabled:g||f,marginStart:2,"aria-label":b[l].cancel})}),f&&v.jsx(e,{position:"absolute",dangerouslySetInlineStyle:{l:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},children:v.jsx(r,{show:!0,size:"sm",accessibilityLabel:b[l].addTaskPlaceholder})})]})]}),v.jsx(o.Suspense,{fallback:v.jsx(r,{show:!0,accessibilityLabel:"Loading..."}),children:v.jsx(S,{isOpen:z,onClose:()=>T(!1),onAddCategory:h,onRemoveCategory:p,customCategories:u,language:l,user:y})})]})}z.propTypes={onAddTask:k.func.isRequired,language:k.string.isRequired,isMobile:k.bool,disabled:k.bool,customCategories:k.array,onAddCategory:k.func.isRequired,onRemoveCategory:k.func.isRequired,user:k.object,isAddingTask:k.bool,editingTask:k.shape({text:k.string,category:k.string}),onCancelEdit:k.func},z.defaultProps={disabled:!1,customCategories:[],isAddingTask:!1};const T=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));function B({isOpen:l,onClose:i,onAddCategory:r,onRemoveCategory:s,customCategories:m,language:p}){const[y,f]=o.useState(""),[w,x]=o.useState(!1),[k,_]=o.useState(""),j=e=>{_(e),x(!0),setTimeout((()=>x(!1)),3e3)};return v.jsxs(c,{zIndex:C,children:[l&&v.jsx(g,{accessibilityDismissButtonLabel:b[p].close,accessibilitySheetLabel:b[p].manageCategories,heading:b[p].manageCategories,onDismiss:i,footer:v.jsx(a,{justifyContent:"end",children:v.jsx(t,{text:b[p].close,onClick:i})}),size:"sm",children:v.jsx(e,{padding:4,children:v.jsxs(a,{direction:"column",gap:4,children:[v.jsxs(e,{children:[v.jsx(u,{weight:"bold",children:b[p].addNewCategory}),v.jsxs(a,{gap:2,alignItems:"center",children:[v.jsx(e,{flex:"grow",marginTop:2,children:v.jsx(d,{id:"newCategory",onChange:({value:e})=>f(e),labelDisplay:"hidden",label:b[p].categoryNamePlaceholder,placeholder:b[p].categoryNamePlaceholder,value:y,size:"lg"})}),v.jsx(t,{text:b[p].add,onClick:()=>{y.trim()?m.some((e=>e.toLowerCase()===y.toLowerCase()))?j(b[p].categoryAlreadyExists):(r(y),f(""),j(b[p].categoryAdded)):j(b[p].categoryNameRequired)},color:"blue",disabled:!y.trim(),size:"lg"})]})]}),v.jsxs(e,{children:[v.jsx(u,{weight:"bold",children:b[p].customCategories}),0===m.length?v.jsx(u,{children:b[p].noCustomCategories}):v.jsx(e,{marginTop:2,marginBottom:2,children:m.map((e=>v.jsxs(a,{alignItems:"center",justifyContent:"between",children:[v.jsx(u,{children:e}),v.jsx(n,{accessibilityLabel:b[p].deleteCategory,icon:"trash-can",onClick:()=>s(e),size:"sm"})]},e)))})]})]})})}),w&&v.jsx(h,{text:k,variant:"informational",onDismiss:()=>x(!1)})]})}B.propTypes={isOpen:k.bool.isRequired,onClose:k.func.isRequired,onAddCategory:k.func.isRequired,onRemoveCategory:k.func.isRequired,customCategories:k.array.isRequired,language:k.string.isRequired};const A=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));export{k as P,j as T,x as _,T as a,v as j};
