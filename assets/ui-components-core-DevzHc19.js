import{P as e,j as i}from"./ui-components-form-C6ySaX2X.js";import{r as n,B as s,M as a,R as t,P as o,D as l,f as r,I as d,g as c,d as u,b as p,h as g,a as m,e as h}from"./vendor-gestalt-CzAJx8OM.js";import{t as x}from"./app-constants-CVKmY58-.js";function b({items:e,id:t,accessibilityExpandLabel:o,accessibilityCollapseLabel:l,defaultExpandedIndices:r=[],onExpandedChange:d}){const[c,u]=n.useState(r);return i.jsx(s,{children:e.map(((e,n)=>{const r=c.includes(n);return i.jsx(s,{marginTop:2,marginBottom:2,children:i.jsx(a.Expandable,{id:`${t}-module-${n}`,accessibilityCollapseLabel:l,accessibilityExpandLabel:o,items:[e],expandedIndex:r?0:null,onExpandedChange:()=>(e=>{let i;i=c.includes(e)?c.filter((i=>i!==e)):[...c,e],u(i),d&&d(i)})(n)})},`${t}-item-${n}`)}))})}b.propTypes={items:e.arrayOf(e.shape({title:e.string.isRequired,icon:e.string,iconButton:e.element,summary:e.arrayOf(e.string),type:e.oneOf(["info","error"]),iconAccessibilityLabel:e.string,children:e.node,badge:e.object})).isRequired,id:e.string.isRequired,accessibilityExpandLabel:e.string.isRequired,accessibilityCollapseLabel:e.string.isRequired,defaultExpandedIndices:e.arrayOf(e.number),onExpandedChange:e.func},b.defaultProps={defaultExpandedIndices:[],onExpandedChange:void 0};function f({theme:e,language:a,isMobile:m,user:h,toggleTheme:b,setLanguage:f,handleSignOut:j,setOpenLoginModal:y,syncData:v,onOpenShareModal:R}){const[q,C]=t.useState(!1),E=n.useRef(null);return i.jsx(s,{color:"elevationFloating",rounding:3,overflow:"hidden",children:i.jsx(o,{title:"To-Do App",subtext:x[a].subTitle,borderStyle:"pill",thumbnail:!m&&i.jsx(g,{alt:"To-Do App",fit:"contain",naturalHeight:1,naturalWidth:1,src:"/todo-app/assets/logo512-CXkHzP4q.png"},"logo"),primaryAction:{component:i.jsxs(c,{children:[i.jsx(u,{text:"lightWash"===e?x[a].darkMode:x[a].lightMode,onClick:b}),i.jsxs(p,{id:"languageSelect",value:a,onChange:({value:e})=>f(e),children:[i.jsx(p.Option,{label:x[a].portuguese,value:"pt"}),i.jsx(p.Option,{label:x[a].english,value:"en"})]}),(null==h?void 0:h.email)&&i.jsxs(s,{display:"flex",children:[i.jsx(d,{size:"sm",icon:"refresh",padding:3,tooltip:{text:x[a].syncData},onClick:v}),i.jsx(d,{size:"sm",icon:"share",padding:3,tooltip:{text:x[a].sharing},onClick:()=>R(!0)})]}),i.jsx(u,{text:(null==h?void 0:h.email)?x[a].signOut:x[a].signIn,iconEnd:"person",onClick:(null==h?void 0:h.email)?j:()=>y(!0)})]})},dropdownAccessibilityLabel:x[a].options,secondaryAction:m&&{component:i.jsx(n.Fragment,{children:i.jsx(r,{idealDirection:"up",text:x[a].options,children:i.jsx(d,{ref:E,accessibilityExpanded:q,accessibilityHaspopup:!0,accessibilityLabel:x[a].options,icon:"ellipsis",iconColor:"darkGray",onClick:()=>C((e=>!e)),selected:q})})}),dropdownItems:[i.jsx(l.Item,{onSelect:()=>f("en"===a?"pt":"en"),option:{value:a,label:"en"===a?x[a].english:x[a].portuguese},iconEnd:"globe"},"set-language"),i.jsx(l.Item,{onSelect:()=>b(),option:{value:a,label:"lightWash"===e?x[a].darkMode:x[a].lightMode},iconEnd:"globe"},"set-theme"),i.jsx(l.Item,{option:{value:"",label:x[a].syncData},onSelect:v},"sync-data"),i.jsx(l.Item,{option:{value:"",label:x[a].sharing},onSelect:()=>R(!0)},"share-category"),i.jsx(l.Item,{onSelect:()=>(null==h?void 0:h.email)?j():y(!0),option:{value:"",label:(null==h?void 0:h.email)?x[a].signOut:x[a].signIn},iconEnd:"person"},"get-login")]}})})}function j({show:e,message:n,onDismiss:s,language:a}){if(!e)return null;const t=x[a][n]||n;return i.jsx(m,{alignItems:"end",height:"100%",justifyContent:"center",width:"100%",children:i.jsx(h,{variant:"success",text:t,dismissButton:{onDismiss:s}})})}f.propTypes={theme:e.string.isRequired,language:e.string.isRequired,isMobile:e.bool,user:e.object,toggleTheme:e.func.isRequired,setLanguage:e.func.isRequired,handleSignOut:e.func.isRequired,setOpenLoginModal:e.func.isRequired,syncData:e.func.isRequired,onOpenShareModal:e.func.isRequired},j.propTypes={show:e.bool.isRequired,message:e.string.isRequired,onDismiss:e.func.isRequired,language:e.string.isRequired};export{f as A,j as T,b as a};
