import{B as e,a,S as s,b as i,I as o,r as t,L as r,A as l,T as n,c as d,d as g,e as c,f as u}from"./vendor-gestalt-CzAJx8OM.js";import{t as p,c as h}from"./app-constants-CVKmY58-.js";import{b as m,g as y}from"./vendor-react-BtDQ8f-S.js";import{r as x}from"./vendor-prop-types-Bx5UHif0.js";import{z as b}from"./app-utils-Cm9Jlpz9.js";var j=m();const C=y(x());function f({searchTerm:t,filterStatus:r,groupBy:l,onSearchChange:n,onFilterChange:d,onGroupByChange:g,language:c,isMobile:u,disabled:h}){const m="lg",y="100%",x="auto";return j.jsxs(e,{width:"100%",display:"flex",direction:u?"column":"row",gap:u?4:2,alignItems:u?"start":"end",wrap:!u,children:[j.jsx(a,{wrap:!0,flex:"grow",width:u?y:x,children:j.jsx(e,{flex:"grow",marginEnd:u?0:2,marginBottom:u?4:0,children:j.jsx(s,{id:"searchField",accessibilityLabel:p[c].searchPlaceholder,onChange:({value:e})=>n(e),placeholder:p[c].searchPlaceholder,value:t,size:m,disabled:h})})}),j.jsx(e,{paddingX:u?0:2,marginBottom:u?4:0,width:u?y:x,children:j.jsxs(i,{id:"filterStatus",labelDisplay:"hidden",label:p[c].taskCategory,placeholder:p[c].taskCategory,onChange:({value:e})=>d(e),size:m,value:r,disabled:h,children:[j.jsx(i.Option,{label:p[c].all,value:"all"}),j.jsx(i.Option,{label:p[c].completed,value:"completed"}),j.jsx(i.Option,{label:p[c].pending,value:"pending"})]})}),j.jsxs(e,{flex:"grow",display:"flex",direction:"row",alignItems:"center",paddingX:u?0:2,width:u?y:x,children:[j.jsx(a,{wrap:!0,flex:u?"grow":"none",width:u?y:x,children:j.jsx(e,{flex:"grow",children:j.jsxs(i,{id:"groupBy",labelDisplay:"hidden",label:p[c].groupBy,placeholder:p[c].groupBy,onChange:({value:e})=>g(e),size:m,value:l,disabled:h,children:[j.jsx(i.Option,{label:p[c].groupByNone,value:"none"}),j.jsx(i.Option,{label:p[c].groupByCategory,value:"category"})]})})}),j.jsx(o,{accessibilityLabel:p[c].groupBy,icon:"info-circle",size:"sm",padding:u?0:4,tooltip:{text:p[c].groupBy,idealDirection:"down"}})]})]})}function w({isOpen:s,onClose:i,onAddCategory:u,onRemoveCategory:h,customCategories:m,language:y}){const[x,C]=t.useState(""),[f,w]=t.useState(!1),[v,k]=t.useState(""),R=e=>{k(e),w(!0),setTimeout((()=>w(!1)),3e3)};return j.jsxs(r,{zIndex:b,children:[s&&j.jsx(l,{accessibilityDismissButtonLabel:p[y].close,accessibilitySheetLabel:p[y].manageCategories,heading:p[y].manageCategories,onDismiss:i,footer:j.jsx(a,{justifyContent:"end",children:j.jsx(g,{text:p[y].close,onClick:i})}),size:"sm",children:j.jsx(e,{padding:4,children:j.jsxs(a,{direction:"column",gap:4,children:[j.jsxs(e,{children:[j.jsx(n,{weight:"bold",children:p[y].addNewCategory}),j.jsxs(a,{gap:2,alignItems:"center",children:[j.jsx(e,{flex:"grow",marginTop:2,children:j.jsx(d,{id:"newCategory",onChange:({value:e})=>C(e),labelDisplay:"hidden",label:p[y].categoryNamePlaceholder,placeholder:p[y].categoryNamePlaceholder,value:x,size:"lg"})}),j.jsx(g,{text:p[y].add,onClick:()=>{x.trim()?m.some((e=>e.toLowerCase()===x.toLowerCase()))?R(p[y].categoryAlreadyExists):(u(x),C(""),R(p[y].categoryAdded)):R(p[y].categoryNameRequired)},color:"blue",disabled:!x.trim(),size:"lg"})]})]}),j.jsxs(e,{children:[j.jsx(n,{weight:"bold",children:p[y].customCategories}),0===m.length?j.jsx(n,{children:p[y].noCustomCategories}):j.jsx(e,{marginTop:2,marginBottom:2,children:m.map((e=>j.jsxs(a,{alignItems:"center",justifyContent:"between",children:[j.jsx(n,{children:e}),j.jsx(o,{accessibilityLabel:p[y].deleteCategory,icon:"trash-can",onClick:()=>h(e),size:"sm"})]},e)))})]})]})})}),f&&j.jsx(c,{text:v,variant:"informational",onDismiss:()=>w(!1)})]})}function v({onAddTask:a,language:s,isMobile:r,disabled:l,customCategories:n,onAddCategory:c,onRemoveCategory:m,user:y}){const[x,b]=t.useState(""),[C,f]=t.useState(),[v,k]=t.useState(!1),[R,q]=t.useState([]),[B,S]=t.useState({task:!1,category:!1});t.useEffect((()=>{const e=[...Object.keys(h),...n.filter((e=>!Object.keys(h).includes(e)))];q(e)}),[n]);const z=({value:e})=>{f(e),B.category&&S({...B,category:!1})},T=({value:e})=>{b(e),B.task&&e.trim()&&S({...B,task:!1})},O=()=>k(!0);return j.jsxs(j.Fragment,{children:[j.jsxs(e,{display:"flex",direction:r?"column":"row",justifyContent:"start",alignItems:r?"stretch":"end",gap:r?6:3,children:[j.jsxs(e,{marginBottom:r?4:0,width:r?"100%":"auto",display:"flex",direction:"row",gap:2,alignItems:"end",children:[j.jsx(e,{marginEnd:!r&&2,flex:"grow",children:j.jsx(i,{id:"categorySelect",labelDisplay:"hidden",label:p[s].taskCategory,placeholder:p[s].taskCategory,onChange:z,size:"lg",disabled:l,value:C,errorMessage:B.category?p[s].categoryRequired:void 0,children:R.map((e=>j.jsx(i.Option,{label:p[s].categories[e]||e,value:e},e)))})}),j.jsx(u,{text:p[s].manageCategories,children:j.jsx(o,{accessibilityLabel:p[s].manageCategories,icon:"add",size:"lg",onClick:O,disabled:l})})]}),j.jsx(e,{flex:"grow",paddingX:r?0:2,marginBottom:r?4:0,width:r?"100%":"auto",children:j.jsx(d,{id:"taskInput",labelDisplay:"hidden",label:p[s].taskName,onChange:T,placeholder:p[s].taskName,value:x,width:"100%",size:"lg",disabled:l,errorMessage:B.task?p[s].taskRequired:void 0})}),j.jsx(g,{text:p[s].addTask,onClick:()=>{(()=>{const e={task:!x.trim(),category:!C};return S(e),!e.task&&!e.category})()&&(a(x,C),b(""),S({task:!1,category:!1}))},color:"blue",fullWidth:r,size:"lg",disabled:l||!x})]}),j.jsx(w,{isOpen:v,onClose:()=>k(!1),onAddCategory:c,onRemoveCategory:m,customCategories:n,language:s,user:y})]})}f.propTypes={searchTerm:C.string.isRequired,filterStatus:C.string.isRequired,groupBy:C.string.isRequired,onSearchChange:C.func.isRequired,onFilterChange:C.func.isRequired,onGroupByChange:C.func.isRequired,language:C.string.isRequired,isMobile:C.bool,disabled:C.bool},f.defaultProps={disabled:!1,groupBy:"none"},w.propTypes={isOpen:C.bool.isRequired,onClose:C.func.isRequired,onAddCategory:C.func.isRequired,onRemoveCategory:C.func.isRequired,customCategories:C.array.isRequired,language:C.string.isRequired},v.propTypes={onAddTask:C.func.isRequired,language:C.string.isRequired,isMobile:C.bool,disabled:C.bool,customCategories:C.array,onAddCategory:C.func.isRequired,onRemoveCategory:C.func.isRequired,user:C.object},v.defaultProps={disabled:!1,customCategories:[]};export{C as P,v as T,f as a,j};
