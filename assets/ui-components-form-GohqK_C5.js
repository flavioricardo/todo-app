import{a as e,g as a,B as l,b as i,S as n,c as o,I as t,r,d as s,e as d,T as c,f as g,L as u,A as h,h as b,i as m}from"./vendor-react-RUKFzHni.js";import{t as p,c as y}from"./app-constants-wElj3pIu.js";import{r as f}from"./vendor-prop-types-CXM-vOnM.js";import{z as C}from"./app-utils-Cfzkm4A-.js";var v=e();const w={},x=function(e,a,l){let i=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),l=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));i=Promise.allSettled(a.map((e=>{if((e=function(e){return"/todo-app/"+e}(e))in w)return;w[e]=!0;const a=e.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const n=document.createElement("link");return n.rel=a?"stylesheet":"modulepreload",a||(n.as="script"),n.crossOrigin="",n.href=e,l&&n.setAttribute("nonce",l),document.head.appendChild(n),a?new Promise(((a,l)=>{n.addEventListener("load",a),n.addEventListener("error",(()=>l(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return i.then((a=>{for(const e of a||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))},k=a(f());function _({searchTerm:e,filterStatus:a,groupBy:r,onSearchChange:s,onFilterChange:d,onGroupByChange:c,language:g,isMobile:u,disabled:h}){const b="lg",m="100%",y="auto";return v.jsxs(l,{width:"100%",display:"flex",direction:u?"column":"row",gap:u?4:2,alignItems:u?"start":"end",wrap:!u,children:[v.jsx(i,{wrap:!0,flex:"grow",width:u?m:y,children:v.jsx(l,{flex:"grow",marginEnd:u?0:2,marginBottom:u?4:0,children:v.jsx(n,{id:"searchField",accessibilityLabel:p[g].searchPlaceholder,"aria-label":p[g].searchPlaceholder,onChange:({value:e})=>s(e),placeholder:p[g].searchPlaceholder,value:e,size:b,disabled:h})})}),v.jsx(l,{paddingX:u?0:2,marginBottom:u?4:0,width:u?m:y,children:v.jsxs(o,{id:"filterStatus",labelDisplay:"hidden",label:p[g].taskCategory,placeholder:p[g].taskCategory,onChange:({value:e})=>d(e),size:b,value:a,disabled:h,"aria-label":p[g].taskCategory,children:[v.jsx(o.Option,{label:p[g].all,value:"all"}),v.jsx(o.Option,{label:p[g].completed,value:"completed"}),v.jsx(o.Option,{label:p[g].pending,value:"pending"})]})}),v.jsxs(l,{flex:"grow",display:"flex",direction:"row",alignItems:"center",paddingX:u?0:2,width:u?m:y,children:[v.jsx(i,{wrap:!0,flex:u?"grow":"none",width:u?m:y,children:v.jsx(l,{flex:"grow",children:v.jsxs(o,{id:"groupBy",labelDisplay:"hidden",label:p[g].groupBy,placeholder:p[g].groupBy,onChange:({value:e})=>c(e),size:b,value:r,disabled:h,"aria-label":p[g].groupBy,children:[v.jsx(o.Option,{label:p[g].groupByNone,value:"none"}),v.jsx(o.Option,{label:p[g].groupByCategory,value:"category"})]})})}),v.jsx(t,{accessibilityLabel:p[g].groupBy,icon:"info-circle",size:"sm",padding:u?0:4,tooltip:{text:p[g].groupBy,idealDirection:"down"},"aria-label":p[g].groupBy})]})]})}_.propTypes={searchTerm:k.string.isRequired,filterStatus:k.string.isRequired,groupBy:k.string.isRequired,onSearchChange:k.func.isRequired,onFilterChange:k.func.isRequired,onGroupByChange:k.func.isRequired,language:k.string.isRequired,isMobile:k.bool,disabled:k.bool},_.defaultProps={disabled:!1,groupBy:"none"};const j=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"})),S=r.lazy((()=>x((()=>Promise.resolve().then((()=>A))),void 0)));function z({onAddTask:e,language:a,isMobile:i,disabled:n,customCategories:u,onAddCategory:h,onRemoveCategory:b,user:m,isAddingTask:f,editingTask:C,onCancelEdit:w}){const[x,k]=r.useState(""),[_,j]=r.useState(),[z,T]=r.useState(!1),[B,A]=r.useState([]),[I,O]=r.useState({task:!1,category:!1});r.useEffect((()=>{C?(k(C.text),j(C.category)):(k(""),j())}),[C]),r.useEffect((()=>{const e=[...Object.keys(y),...u.filter((e=>!Object.keys(y).includes(e)))];A(e)}),[u]);return v.jsxs(v.Fragment,{children:[v.jsxs(l,{display:"flex",direction:i?"column":"row",justifyContent:"start",alignItems:i?"stretch":"end",gap:i?6:3,children:[v.jsxs(l,{marginBottom:i?4:0,width:i?"100%":"auto",display:"flex",direction:"row",gap:2,alignItems:"end",children:[v.jsx(l,{marginEnd:!i&&2,flex:"grow",children:v.jsx(o,{id:"categorySelect",labelDisplay:"hidden",label:p[a].taskCategory,placeholder:p[a].taskCategory,onChange:({value:e})=>{j(e),I.category&&O({...I,category:!1})},size:"lg",disabled:n,value:_,errorMessage:I.category?p[a].categoryRequired:void 0,"aria-label":p[a].taskCategory,children:B.map((e=>v.jsx(o.Option,{label:p[a].categories[e]||e,value:e},e)))})}),v.jsx(c,{text:p[a].manageCategories,children:v.jsx(t,{accessibilityLabel:p[a].manageCategories,icon:"add",size:"lg",onClick:()=>T(!0),disabled:n,"aria-label":p[a].manageCategories})})]}),v.jsx(l,{flex:"grow",paddingX:i?0:2,marginBottom:i?4:0,width:i?"100%":"auto",children:v.jsx(g,{id:"taskInput",labelDisplay:"hidden",label:p[a].taskName,onChange:({value:e})=>{k(e),I.task&&e.trim()&&O({...I,task:!1})},placeholder:p[a].taskName,value:x,width:"100%",size:"lg",disabled:n,errorMessage:I.task?p[a].taskRequired:void 0,"aria-label":p[a].taskName})}),v.jsxs(l,{position:"relative",display:"flex",direction:i?"column":"row",alignItems:i?"stretch":"end",children:[v.jsx(s,{text:C?p[a].saveTask:p[a].addTask,onClick:()=>{(()=>{const e={task:!x.trim(),category:!_};return O(e),!e.task&&!e.category})()&&(e(x,_),k(""),O({task:!1,category:!1}))},color:"blue",fullWidth:i,size:"lg",disabled:n||!x||f,"aria-label":C?p[a].saveTask:p[a].addTask}),!f&&C&&v.jsx(l,{marginStart:i?0:2,marginTop:i?4:0,children:v.jsx(s,{text:p[a].cancel,color:"red",onClick:w,size:"lg",fullWidth:i,disabled:n||f,marginStart:2,"aria-label":p[a].cancel})}),f&&v.jsx(l,{position:"absolute",dangerouslySetInlineStyle:{l:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},children:v.jsx(d,{show:!0,size:"sm",accessibilityLabel:p[a].addTaskPlaceholder})})]})]}),v.jsx(r.Suspense,{fallback:v.jsx(d,{show:!0,accessibilityLabel:"Loading..."}),children:v.jsx(S,{isOpen:z,onClose:()=>T(!1),onAddCategory:h,onRemoveCategory:b,customCategories:u,language:a,user:m})})]})}z.propTypes={onAddTask:k.func.isRequired,language:k.string.isRequired,isMobile:k.bool,disabled:k.bool,customCategories:k.array,onAddCategory:k.func.isRequired,onRemoveCategory:k.func.isRequired,user:k.object,isAddingTask:k.bool,editingTask:k.shape({text:k.string,category:k.string}),onCancelEdit:k.func},z.defaultProps={disabled:!1,customCategories:[],isAddingTask:!1};const T=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));function B({isOpen:e,onClose:a,onAddCategory:n,onRemoveCategory:o,customCategories:d,language:c}){const[y,f]=r.useState(""),[w,x]=r.useState(!1),[k,_]=r.useState(""),j=e=>{_(e),x(!0),setTimeout((()=>x(!1)),3e3)};return v.jsxs(u,{zIndex:C,children:[e&&v.jsx(h,{accessibilityDismissButtonLabel:p[c].close,accessibilitySheetLabel:p[c].manageCategories,heading:p[c].manageCategories,onDismiss:a,footer:v.jsx(i,{justifyContent:"end",children:v.jsx(s,{text:p[c].close,onClick:a})}),size:"sm",children:v.jsx(l,{padding:4,children:v.jsxs(i,{direction:"column",gap:4,children:[v.jsxs(l,{children:[v.jsx(b,{weight:"bold",children:p[c].addNewCategory}),v.jsxs(i,{gap:2,alignItems:"center",children:[v.jsx(l,{flex:"grow",marginTop:2,children:v.jsx(g,{id:"newCategory",onChange:({value:e})=>f(e),labelDisplay:"hidden",label:p[c].categoryNamePlaceholder,placeholder:p[c].categoryNamePlaceholder,value:y,size:"lg"})}),v.jsx(s,{text:p[c].add,onClick:()=>{y.trim()?d.some((e=>e.toLowerCase()===y.toLowerCase()))?j(p[c].categoryAlreadyExists):(n(y),f(""),j(p[c].categoryAdded)):j(p[c].categoryNameRequired)},color:"blue",disabled:!y.trim(),size:"lg"})]})]}),v.jsxs(l,{children:[v.jsx(b,{weight:"bold",children:p[c].customCategories}),0===d.length?v.jsx(b,{children:p[c].noCustomCategories}):v.jsx(l,{marginTop:2,marginBottom:2,children:d.map((e=>v.jsxs(i,{alignItems:"center",justifyContent:"between",children:[v.jsx(b,{children:e}),v.jsx(t,{accessibilityLabel:p[c].deleteCategory,icon:"trash-can",onClick:()=>o(e),size:"sm"})]},e)))})]})]})})}),w&&v.jsx(m,{text:k,variant:"informational",onDismiss:()=>x(!1)})]})}B.propTypes={isOpen:k.bool.isRequired,onClose:k.func.isRequired,onAddCategory:k.func.isRequired,onRemoveCategory:k.func.isRequired,customCategories:k.array.isRequired,language:k.string.isRequired};const A=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));export{k as P,j as T,x as _,T as a,v as j};
