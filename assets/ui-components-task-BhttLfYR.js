import{P as e,j as s}from"./ui-components-form-D6-4KZXb.js";import{r as i,B as o,T as t,d as a,i as r,I as n,j as g}from"./vendor-gestalt-C-ehLyim.js";import{c as l}from"./app-services-0pdvdrwl.js";import{t as d,g as c}from"./app-constants-CBaLPq-s.js";const u=({task:e,onToggleTask:i,showCategory:t,language:a})=>s.jsxs(o,{display:"flex",alignItems:"center",justifyContent:"between",padding:2,children:[s.jsx(g,{id:`task-${e.id}`,checked:e.completed,label:e.text,onChange:()=>i(e.id)}),t&&s.jsx(r,{text:d[a].categories[e.category]||e.category,type:c(e.category)})]}),p=({category:e,tasks:i,onToggleTask:a,language:g,isMobile:l,isExpanded:p,onToggleExpand:m})=>s.jsxs(o,{marginBottom:2,marginEnd:2,borderStyle:"shadow",color:"elevationFloating",rounding:3,padding:3,userSelect:"none",flex:"grow",column:l||p?12:3,width:p?"100%":void 0,children:[s.jsxs(o,{display:"flex",alignItems:"center",justifyContent:"between",marginBottom:1,children:[s.jsx(t,{size:"sm",children:s.jsx(r,{text:d[g].categories[e]||e,type:c(e)})}),s.jsx(n,{size:"sm",selected:p,icon:p?"minimize":"maximize",onClick:()=>m(e),accessibilityLabel:p?d[g].minimize:d[g].expand})]}),i.map((e=>s.jsx(u,{task:e,onToggleTask:a,showCategory:!1,language:g},e.id)))]}),m=({language:e})=>s.jsx(o,{padding:3,display:"flex",justifyContent:"center",children:s.jsx(t,{children:d[e].emptyTaskList})});function x({tasks:e,onToggleTask:r,onClearCompleted:n,filterStatus:g,groupBy:c,language:x,isMobile:y}){const[j,T]=i.useState(null),f=e=>{T(j===e?null:e)},h=e.some((e=>e.completed))&&"pending"!==g;return s.jsxs(s.Fragment,{children:[s.jsxs(o,{marginTop:4,width:"100%",children:[s.jsx(o,{marginBottom:2,children:s.jsx(t,{size:"100",children:d[x].taskList})}),s.jsx(o,{display:y||"category"!==c?void 0:"flex",wrap:y||"category"!==c?void 0:"wrap",legend:d[x].taskList,children:(()=>{if(0===e.length)return s.jsx(m,{language:x});if("category"===c){const i=e.reduce(((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e)),{}),o=l.sortCategoriesByOrder(Object.keys(i));return[...o].sort(((e,s)=>j===e?-1:j===s?1:o.indexOf(e)-o.indexOf(s))).map((e=>s.jsx(p,{category:e,tasks:i[e],onToggleTask:r,language:x,isMobile:y,isExpanded:j===e,onToggleExpand:f},e)))}return e.map((e=>s.jsx(u,{task:e,onToggleTask:r,showCategory:"category"!==c,language:x},e.id)))})()})]}),h&&s.jsx(o,{marginTop:4,width:"100%",display:"flex",children:s.jsx(a,{text:d[x].clearCompleted,onClick:n,color:"red",fullWidth:y,size:y?"lg":"md"})})]})}u.propTypes={task:e.shape({id:e.string.isRequired,text:e.string.isRequired,category:e.string.isRequired,completed:e.bool.isRequired}).isRequired,onToggleTask:e.func.isRequired,showCategory:e.bool.isRequired,language:e.string.isRequired},p.propTypes={category:e.string.isRequired,tasks:e.array.isRequired,onToggleTask:e.func.isRequired,language:e.string.isRequired,isMobile:e.bool,isExpanded:e.bool,onToggleExpand:e.func.isRequired},m.propTypes={language:e.string.isRequired},x.propTypes={tasks:e.arrayOf(e.shape({id:e.string.isRequired,text:e.string.isRequired,category:e.string.isRequired,completed:e.bool.isRequired})).isRequired,onToggleTask:e.func.isRequired,onClearCompleted:e.func.isRequired,filterStatus:e.string.isRequired,groupBy:e.string,language:e.string.isRequired,isMobile:e.bool},x.defaultProps={groupBy:"none",isMobile:!1};export{x as T};
